<div class="charts-container">
  <div class="charts-header">
    <h1>Relatório de Transações</h1>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-header">
        <h2>Transações por Mês</h2>
      </div>
      <div class="chart-body">
        <%= line_chart @transactions_by_month, 
            xtitle: "Mês", 
            ytitle: "Total em R$", 
            colors: ["#00c010"],
            library: { 
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: false },
                tooltip: { 
                  backgroundColor: 'rgba(0, 68, 163, 0.9)',
                  titleFont: { size: 14 },
                  bodyFont: { size: 13 }
                }
              },
              scales: {
                y: {
                  grid: { color: 'rgba(0, 0, 0, 0.05)' },
                  ticks: { font: { size: 12 } }
                },
                x: {
                  grid: { display: false },
                  ticks: { font: { size: 12 } }
                }
              }
            } %>
      </div>
    </div>

    <div class="chart-card">
      <div class="chart-header">
        <h2>Transações por Loja</h2>
      </div>
      <div class="chart-body">
        <%= bar_chart @transactions_by_store, 
            xtitle: "Loja", 
            ytitle: "Total em R$", 
            colors: ["#00c010"],
            library: { 
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: false },
                tooltip: { 
                  backgroundColor: 'rgba(42, 67, 101, 0.9)',
                  titleFont: { size: 14 },
                  bodyFont: { size: 13 }
                }
              },
              scales: {
                y: {
                  grid: { color: 'rgba(0, 0, 0, 0.05)' },
                  ticks: { font: { size: 12 } }
                },
                x: {
                  grid: { display: false },
                  ticks: { font: { size: 12 } }
                }
              }
            } %>
      </div>
    </div>

    <div class="chart-card">
      <div class="chart-header">
        <h2>Transações por Tipo</h2>
      </div>
      <div class="chart-body">
        <%= pie_chart @transactions_by_type, 
            colors: ["#DC143C", "#FF1493", "#228B22", "#483D8B", "#FFFF00"],
            library: { 
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { 
                  position: 'right',
                  labels: { 
                    font: { size: 12 },
                    padding: 15
                  }
                },
                tooltip: { 
                  backgroundColor: 'rgba(42, 67, 101, 0.9)',
                  titleFont: { size: 14 },
                  bodyFont: { size: 13 }
                }
              }
            } %>
      </div>
    </div>
  </div>

  <div class="charts-footer">
    <p>Dados atualizados em: <%= Time.now.strftime("%d/%m/%Y às %H:%M") %></p>
  </div>
</div>